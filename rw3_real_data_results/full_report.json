{
  "experiment": "RW3 Real Data Verification",
  "timestamp": "2025-12-08T15:31:31.113884",
  "embedding_model": "all-mpnet-base-v2",
  "results": {
    "CLINC150": {
      "dataset": "CLINC150",
      "config": {
        "k_neighbors": 15,
        "n_id_samples": 1600,
        "n_ood_samples": 150,
        "ood_type": "out-of-scope",
        "description": "Out-of-scope queries (semantically unrelated)"
      },
      "data_info": {
        "source": "clinc_oos (plus)",
        "ood_type": "out-of-scope",
        "n_id_actual": 1600,
        "n_ood_actual": 150
      },
      "clustering": {
        "n_clusters": 4,
        "n_noise": "1093"
      },
      "statistical_results": [
        {
          "feature": "pseudo_label_nhr",
          "id_mean": 0.34645833333333337,
          "id_std": 0.4366379900730123,
          "ood_mean": 0.01955555555555556,
          "ood_std": 0.13696101995697285,
          "cohens_d": -1.0102615071098873,
          "t_statistic": 9.12222149129444,
          "p_value": 1.96722601034678e-19,
          "auroc": 0.6927041666666667,
          "dataset": "CLINC150"
        },
        {
          "feature": "embedding_homophily",
          "id_mean": "0.53097004",
          "id_std": "0.1183822",
          "ood_mean": "0.28560632",
          "ood_std": "0.07136936",
          "cohens_d": "-2.5102587",
          "t_statistic": 24.94855803804154,
          "p_value": 8.963670317965522e-118,
          "auroc": 0.9558833333333333,
          "dataset": "CLINC150"
        },
        {
          "feature": "neighbor_entropy",
          "id_mean": 0.38534935677355137,
          "id_std": 0.2694166860605071,
          "ood_mean": 0.4844033496951016,
          "ood_std": 0.2494834795165909,
          "cohens_d": 0.38150301410693677,
          "t_statistic": -4.329665999576537,
          "p_value": 1.5780080268305093e-05,
          "auroc": 0.6046020833333333,
          "dataset": "CLINC150"
        }
      ],
      "baseline": {
        "auroc": 0.9971875,
        "method": "distance_to_nearest_class",
        "n_classes": 150
      },
      "main_finding": {
        "cohens_d": -1.0102615071098873,
        "auroc": 0.6927041666666667,
        "direction": "OOD MORE HETEROPHILIC"
      }
    },
    "Banking77": {
      "dataset": "Banking77",
      "config": {
        "k_neighbors": 20,
        "n_id_samples": 2000,
        "n_ood_samples": 200,
        "n_id_classes": 50,
        "ood_type": "held-out-class",
        "description": "Held-out intent classes"
      },
      "data_info": {
        "source": "mteb/banking77",
        "ood_type": "held-out-class",
        "n_id_actual": 2000,
        "n_ood_actual": 200
      },
      "clustering": {
        "n_clusters": 2,
        "n_noise": "418"
      },
      "statistical_results": [
        {
          "feature": "pseudo_label_nhr",
          "id_mean": 0.7994249999999999,
          "id_std": 0.37018362926391,
          "ood_mean": 0.58225,
          "ood_std": 0.4592357101750691,
          "cohens_d": -0.5206870713914846,
          "t_statistic": 7.720157343899134,
          "p_value": 1.7509799673982052e-14,
          "auroc": 0.66346125,
          "dataset": "Banking77"
        },
        {
          "feature": "embedding_homophily",
          "id_mean": "0.7137424",
          "id_std": "0.08046444",
          "ood_mean": "0.6492339",
          "ood_std": "0.07541258",
          "cohens_d": "-0.8272502",
          "t_statistic": 10.865467975355694,
          "p_value": 7.9859336750643e-27,
          "auroc": 0.73456,
          "dataset": "Banking77"
        },
        {
          "feature": "neighbor_entropy",
          "id_mean": 0.16323237285127024,
          "id_std": 0.22921632975443362,
          "ood_mean": 0.2838234843345668,
          "ood_std": 0.24367083984209323,
          "cohens_d": 0.5097825603915285,
          "t_statistic": -7.049166293279779,
          "p_value": 2.400093977857416e-12,
          "auroc": 0.64987,
          "dataset": "Banking77"
        }
      ],
      "baseline": {
        "auroc": 0.8573925,
        "method": "distance_to_nearest_class",
        "n_classes": 50
      },
      "main_finding": {
        "cohens_d": -0.5206870713914846,
        "auroc": 0.66346125,
        "direction": "OOD MORE HETEROPHILIC"
      }
    },
    "ROSTD": {
      "dataset": "ROSTD",
      "config": {
        "k_neighbors": 20,
        "n_id_samples": 1000,
        "n_ood_samples": 500,
        "ood_type": "diverse-ood",
        "description": "Real diverse human-authored OOD from ROSTD"
      },
      "data_info": {
        "source": "OODrelease.tsv + mteb/banking77 (as ID)",
        "ood_type": "diverse-ood",
        "n_id_actual": 1000,
        "n_ood_actual": 500
      },
      "clustering": {
        "n_clusters": 2,
        "n_noise": "535"
      },
      "statistical_results": [
        {
          "feature": "pseudo_label_nhr",
          "id_mean": 0.95425,
          "id_std": 0.19725475279445104,
          "ood_mean": 0.009399999999999999,
          "ood_std": 0.09360363240814963,
          "cohens_d": -6.11998532557418,
          "t_statistic": 101.47593513483925,
          "p_value": 0.0,
          "auroc": 0.978542,
          "dataset": "ROSTD"
        },
        {
          "feature": "embedding_homophily",
          "id_mean": "0.74743813",
          "id_std": "0.09563625",
          "ood_mean": "0.31360674",
          "ood_std": "0.07442896",
          "cohens_d": "-5.06273",
          "t_statistic": 88.80730624551313,
          "p_value": 0.0,
          "auroc": 0.996902,
          "dataset": "ROSTD"
        },
        {
          "feature": "neighbor_entropy",
          "id_mean": 0.03248073260562704,
          "id_std": 0.11354523393121362,
          "ood_mean": 0.25505094464466727,
          "ood_std": 0.27600038582005737,
          "cohens_d": 1.0546768164718332,
          "t_statistic": -22.02722227204177,
          "p_value": 2.2388122630744647e-93,
          "auroc": 0.737755,
          "dataset": "ROSTD"
        }
      ],
      "baseline": {
        "auroc": 0.998522,
        "method": "distance_to_nearest_class",
        "n_classes": 17
      },
      "main_finding": {
        "cohens_d": -6.11998532557418,
        "auroc": 0.978542,
        "direction": "OOD MORE HETEROPHILIC"
      }
    },
    "ToxiGen": {
      "dataset": "ToxiGen",
      "config": {
        "k_neighbors": 20,
        "n_id_samples": 1000,
        "n_ood_samples": 500,
        "toxicity_threshold": 2.5,
        "ood_type": "toxicity-based",
        "description": "Toxicity-based OOD (toxic vs non-toxic)"
      },
      "data_info": {
        "source": "toxigen/toxigen-data (annotated)",
        "ood_type": "toxicity-based",
        "n_id_actual": 1000,
        "n_ood_actual": 500
      },
      "clustering": {
        "n_clusters": 2,
        "n_noise": "1282"
      },
      "statistical_results": [
        {
          "feature": "pseudo_label_nhr",
          "id_mean": 0.12580000000000002,
          "id_std": 0.3048431727954556,
          "ood_mean": 0.09689999999999999,
          "ood_std": 0.2719106286999462,
          "cohens_d": -0.100053097745025,
          "t_statistic": 1.7918162446821062,
          "p_value": 0.07336417511567014,
          "auroc": 0.516159,
          "dataset": "ToxiGen"
        },
        {
          "feature": "embedding_homophily",
          "id_mean": "0.44947973",
          "id_std": "0.11859588",
          "ood_mean": "0.46557364",
          "ood_std": "0.09108769",
          "cohens_d": "0.15220247",
          "t_statistic": -2.6647748852231037,
          "p_value": 0.007786708606283522,
          "auroc": 0.548324,
          "dataset": "ToxiGen"
        },
        {
          "feature": "neighbor_entropy",
          "id_mean": 0.30166813125657876,
          "id_std": 0.2685469532010391,
          "ood_mean": 0.32379831222047123,
          "ood_std": 0.2687204965493491,
          "cohens_d": 0.08238049713023535,
          "t_statistic": -1.5032140421494546,
          "p_value": 0.1329946358979156,
          "auroc": 0.519506,
          "dataset": "ToxiGen"
        }
      ],
      "baseline": {
        "auroc": 0.523806,
        "method": "distance_to_nearest_class",
        "n_classes": 13
      },
      "main_finding": {
        "cohens_d": -0.100053097745025,
        "auroc": 0.516159,
        "direction": "WEAK/NO EFFECT"
      }
    }
  },
  "v2_comparison": {
    "CLINC150": {
      "d": 2.0287,
      "direction": "HOMOPHILIC"
    },
    "Banking77": {
      "d": -0.4881,
      "direction": "HETEROPHILIC"
    },
    "ROSTD": {
      "d": -0.8861,
      "direction": "HETEROPHILIC"
    },
    "ToxiGen": {
      "d": -0.0262,
      "direction": "WEAK"
    }
  },
  "summary": {
    "total_datasets": 4,
    "successful": 4,
    "failed": 0
  }
}